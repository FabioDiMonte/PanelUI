/*! PanelUI Package - v0.1.0 - 2015-04-24 */
var PanelUI=function(){var a=function(){function a(a,b){this.name=a,this.title=b||a,this.parent=null,this.mainUI=null,this.enabled=!0,this.elements=[],this.elementsMap={},this.listeners={},this.$el=this.getElement(),this.initEvents()}return a.prototype={getElement:function(){return null},initEvents:function(){},setValue:function(){},getValue:function(){},addTo:function(a){this.parent=a,this.mainUI=a.mainUI||a,this.updateChildrenHierarchy()},addChild:function(a){this.elements.push(a);var b;if(a.components)for(var c=0;c<a.components.length;c++)b=a.components[c],b.addTo(this),this.elementsMap[b.name]=b;else a.addTo(this),this.elementsMap[a.name]=a},updateChildrenHierarchy:function(){for(var a,b=this.components?this.components:this.elements,c=0;c<b.length;c++)a=b[c],a.mainUI=this.mainUI,a.updateChildrenHierarchy()},toDom:function(){for(var a=0;a<this.elements.length;a++)this.$el.append(this.elements[a].toDom());return this.$el},enable:function(){this.enabled=!0,this.$el.addClass("enabled"),this.$el.removeClass("disabled")},disable:function(){this.enabled=!1,this.$el.addClass("disabled"),this.$el.removeClass("enabled")},toggle:function(){this.enabled?this.disable():this.enable()},setEvent:function(a,b,c){"function"==typeof b?this.$el.on(a,b.bind(this)):"string"==typeof b&&this.$el.on(a,b,c.bind(this))},on:function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},off:function(a){this.listeners[a]=null},trigger:function(a,b){if(this.listeners[a]){this.mainUI&&this.mainUI.eventlog&&console.log("trigger: ",this.name,a,b);for(var c=0;c<this.listeners[a].length;c++)this.listeners[a][c](b,a)}}},a}(),b=function(a,b){function c(a,c,d){this.type=d,b.call(this,a,c)}return c.prototype=Object.create(b.prototype),c.prototype.getElement=function(){return a("<div/>").attr("id","ic-"+this.name).addClass("ic-"+this.type).append(a("<p/>").text(this.title))},c}(a),c=function(a){function b(b,c){a.call(this,b,c,"panel"),this.addComponents()}return b.prototype=Object.create(a.prototype),b.prototype.addComponents=function(){},b}(b),d=function(a){function b(b,c,d){a.call(this,b+"-"+c,d,"panel-component")}return b.prototype=Object.create(a.prototype),b}(b),e=function(a,b){function c(a){this.components=a,b.call(this,"group")}return c.prototype=Object.create(b.prototype),c.prototype.getElement=function(){for(var b=a("<div/>").addClass("block"),c=0;c<this.components.length;c++)b.append(this.components[c].toDom());return b},c}(jQuery,a),f=function(a){function b(){a.call(this,"navigation","navigation","navigation")}return b.prototype=Object.create(a.prototype),b.prototype.getElement=function(){return $("<nav/>").append("<ul/>")},b.prototype.initEvents=function(){this.setEvent("click","a",function(a){this.trigger("click",$(a.currentTarget).data("panel"))})},b.prototype.addTab=function(a,b){this.$el.find("ul").append($("<li/>").append($("<a/>").data("panel",a).text(b)))},b}(b),g=function(a,b){function c(b){if(this.ID=b,this.$el=a("#"+b),0==this.$el.length)throw new Error("main UI not initialized: probably given ID does not exists in dom");this.panels=[],this.panelsMap={},this.currentPanel=null,this.eventlog=!1,this.nav=null}return c.prototype={init:function(){this.initNavigation()},initNavigation:function(){this.nav=new b,this.nav.on("click",function(a){this.changePanel(a,200)}.bind(this)),this.addPanel(this.nav)},logEvents:function(a){this.eventlog=a},changePanel:function(b,c){var d=a("#"+b),e=null==this.currentPanel||this.currentPanel.attr("id")!=b;e&&(this.currentPanel&&this.currentPanel.fadeOut(c),this.currentPanel=d,c?this.currentPanel.fadeIn(c):this.currentPanel.show())},addPanel:function(a,c){return c||(c=a.name),!(a instanceof b)&&this.nav&&this.nav.addTab(a.name,c),this.panels.push(a),this.panelsMap[a.name]=a,a.addTo(this),this.$el.append(a.toDom()),a}},c}(jQuery,f),h=function(a,b,c,d,e,f,g){var h={};return h.core={},h.core.PUIElement=a,h.core.PUIElementContainer=b,h.core.PUIMain=c,h.panels={},h.panels.PUINavigation=d,h.panels.PUIPanel=e,h.panels.PUIPanelComponent=f,h.panels.PUIPanelComponentGroup=g,h}(a,b,g,f,c,d,e);return h}();